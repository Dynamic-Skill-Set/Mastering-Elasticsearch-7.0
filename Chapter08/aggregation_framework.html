<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Chapter8</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1671.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 10.0px 0.0px; line-height: 41.0px; font: 36.0px Times; color: #121212; -webkit-text-stroke: #121212}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 14.0px Times; color: #121212; -webkit-text-stroke: #121212}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 14.0px Times; color: #484848; -webkit-text-stroke: #484848}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 18.0px Times; color: #121212; -webkit-text-stroke: #121212}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #121212; -webkit-text-stroke: #121212; background-color: #f1f1f1}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #b8b8b8; -webkit-text-stroke: #b8b8b8}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #b8b8b8; -webkit-text-stroke: #b8b8b8; background-color: #ffffff}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 12.0px Monaco; color: #7adc17; -webkit-text-stroke: #7adc17; background-color: #161616}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px Times; color: #28931c; -webkit-text-stroke: #28931c}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px Times; color: #e46f14; -webkit-text-stroke: #e46f14}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #121212; -webkit-text-stroke: #121212}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 14.0px Times; color: #dadada; -webkit-text-stroke: #dadada}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Courier; color: #484848; -webkit-text-stroke: #484848; background-color: #161616}
    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 16.0px; font: 12.0px Monaco; color: #f1f2e6; -webkit-text-stroke: #f1f2e6; background-color: #161616}
    p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.0px; font: 16.0px Times; color: #d20021; -webkit-text-stroke: #d20021}
    p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.0px; font: 18.0px Times; color: #121212; -webkit-text-stroke: #121212}
    p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 14.0px Times; color: #161616; -webkit-text-stroke: #161616; background-color: #ebebeb}
    p.p18 {margin: 0.0px 10.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #121212; -webkit-text-stroke: #121212; background-color: #dddddd}
    span.s1 {font-kerning: none}
    span.s2 {font: 16.0px Times; font-kerning: none; color: #28931c; -webkit-text-stroke: 0px #28931c}
    span.s3 {font-kerning: none; color: #f1f2e6; -webkit-text-stroke: 0px #f1f2e6}
    span.s4 {font: 16.0px Times; font-kerning: none; color: #e46f14; -webkit-text-stroke: 0px #e46f14}
    span.s5 {font: 16.0px Times; font-kerning: none; color: #d20021; -webkit-text-stroke: 0px #d20021}
    span.s6 {font-kerning: none; -webkit-text-stroke: 0px #000000}
  </style>
</head>
<body>
<p class="p1"><span class="s1">Chapter8</span></p>
<p class="p2"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p4"><span class="s2">GET</span><span class="s1"> IEX_ACWF_chart_3m </span></p>
<p class="p5"><span class="s1">https://api.iextrading.com/1.0/stock/ACWF/chart/3m</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">IEX_ACWF_chart_3m</span></p>
<p class="p8"><span class="s3">curl --location --request GET </span><span class="s1">"https://api.iextrading.com/1.0/stock/ACWF/chart/3m"</span></p>
<p class="p9"><span class="s1"> </span></p>
<p class="p4"><span class="s2">GET</span><span class="s1"> cf_etf_historical_prices_mapping </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_historical_prices_mapping</span></p>
<p class="p8"><span class="s3">curl --location --request GET </span><span class="s1">"http://localhost:9200/cf_etf_hist_price/"</span></p>
<p class="p9"><span class="s1"> </span></p>
<p class="p4"><span class="s2">GET</span><span class="s1"> cf_etf_historical_prices document_count </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_count</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_historical_prices document_count</span></p>
<p class="p8"><span class="s3">curl --location --request GET </span><span class="s1">"http://localhost:9200/cf_etf_hist_price/_count"</span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_dcoument_search_all </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">"size":61,</span></p>
<p class="p13"><span class="s1">"query":{"match":{"symbol":"ACWF"}}</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_dcoument_search_all</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --data $'{ \"size\":61, \"query\":{\"match\":{\"symbol\":\"ACWF\"}} }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_matrix_stats </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">        "statistics": {</span></p>
<p class="p13"><span class="s1">            "matrix_stats": {</span></p>
<p class="p13"><span class="s1">                "fields": ["volume", "changePercent"]</span></p>
<p class="p13"><span class="s1">            }</span></p>
<p class="p13"><span class="s1">        }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_matrix_stats</span></p>
<p class="p14"><span class="s1">  </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"statistics\": { \"matrix_stats\": { \"fields\": [\"volume\", \"changePercent\"] } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p9"><span class="s1"> </span></p>
<p class="p4"><span class="s2">GET</span><span class="s1"> count_cf_etf_hist_price_index_dcoument </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_count</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">count_cf_etf_hist_price_index_dcoument</span></p>
<p class="p14"><span class="s1">curl --location --request GET "http://localhost:9200/cf_etf_hist_price/_count"</span></p>
<p class="p15"><span class="s1"> </span></p>
<p class="p4"><span class="s5">DEL</span><span class="s1"> delete_cf_etf_hist_price_index </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">delete_cf_etf_hist_price_index</span></p>
<p class="p14"><span class="s1">curl --location --request DELETE "http://localhost:9200/cf_etf_hist_price/"</span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_avg_acwf_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">Accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {"acwf_avg_change_price": {"avg": { "field": "change" }}}</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_avg_acwf_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "Accept: application/json" --data $'{\"size\":0,\"query\":{\</span><span class="s6">"</span><span class="s1">match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"acwf_avg_change_price\":{\"avg\":{\"field\":\"change\"}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_weight_avg_acwf_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "acwf_avg_change_with_vol_weight": {</span></p>
<p class="p13"><span class="s1">              "weighted_avg": {</span></p>
<p class="p13"><span class="s1">                     "value": {"field": "change"}, "weight": {"field": "volume"}</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_weight_avg_acwf_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"acwf_avg_change_with_vol_weight\": { \"weighted_avg\": { \"value\": {\"field\": \"change\"}, \"weight\": {\"field\": \"volume\"} } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_morningstar_categories_cardinality </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "number_of_morningstar_category": {</span></p>
<p class="p13"><span class="s1">              "cardinality": {"field": "morningstar_category"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_morningstart_categories_cardinality</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"aggs\": { \"number_of_morningstar_category\": { \"cardinality\": {\"field\": \"morningstar_category\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_morningstar_categories_value_count </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "num_of_etfs_have_market_cap": {</span></p>
<p class="p13"><span class="s1">              "value_count": {"field": "market_cap"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_market_cap_value_count</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"aggs\": { \"num_of_etfs_have_market_cap\": { \"value_count\": {\"field\": \"market_cap\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_acwf_amount_sum </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_dividend_denormalize/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "sum_amount": {</span></p>
<p class="p13"><span class="s1">              "sum": {"field": "amount"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_acwf_amount_sum</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_dividend_denormalize/_search" --header "Content-Type: application/json" --data $'{ \"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"sum_amount\": { \"sum\": {\"field\": \"amount\"} } } }' <span class="Apple-converted-space"> </span></span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_minimum_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "minimum_open_price": {</span></p>
<p class="p13"><span class="s1">              "min": {"field": "open"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_minimum_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"minimum_open_price\": { \"min\": {\"field\": \"open\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_maximum_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "maximum_open_price": {</span></p>
<p class="p13"><span class="s1">              "max": {"field": "open"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_maximum_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"maximum_open_price\": { \"max\": {\"field\": \"open\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_stats_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "stats_open_price": {</span></p>
<p class="p13"><span class="s1">              "stats": {"field": "open"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_stats_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"stats_open_price\": { \"stats\": {\"field\": \"open\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_extended_stats_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "extend_stats_open_price": {</span></p>
<p class="p13"><span class="s1">              "extended_stats": {"field": "open"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_extended_stats_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"extend_stats_open_price\": { \"extended_stats\": {\"field\": \"open\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_top_hit_morningstar_category </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "category_top_hits": {</span></p>
<p class="p13"><span class="s1">              "terms": {</span></p>
<p class="p13"><span class="s1">                     "field":"morningstar_category",</span></p>
<p class="p13"><span class="s1">                     "size": 5</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "aggs":{</span></p>
<p class="p13"><span class="s1">                     "category_top_hits": {</span></p>
<p class="p13"><span class="s1">                            "top_hits": {}</span></p>
<p class="p13"><span class="s1">                     }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_top_hit_morningstar_category</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"aggs\": { \"category_top_hits\": { \"terms\": { \"field\":\"morningstar_category\", \"size\": 5 }, \"aggs\":{ \"category_top_hits\": { \"top_hits\": {} } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_percentiles_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "open_price_percentiles": {</span></p>
<p class="p13"><span class="s1">              "percentiles": {"field":"open"}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_percentiles_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"open_price_percentiles\": { \"percentiles\": {\"field\":\"open\"} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_percentile_rank_open_price </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "open_price_percentile_rank": {</span></p>
<p class="p13"><span class="s1">              "percentile_ranks": {"field":"open", "values":28.5}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_percentile_rank_open_price</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"open_price_percentile_rank\": { \"percentile_ranks\": {\"field\":\"open\", \"values\":28.5} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_mad_acwf_percetChange </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "mad_change_percent": {</span></p>
<p class="p13"><span class="s1">              "median_absolute_deviation": {"field":"changePercent" }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_mad_acwf_percetChange</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"mad_change_percent\":{\"median_absolute_deviation\":{\"field\":\"changePercent\"}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_scripted_metric </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">       "highest_cp_cot_ratio": {</span></p>
<p class="p13"><span class="s1">              "scripted_metric": {</span></p>
<p class="p13"><span class="s1">                     "init_script":"state.price_diff = new ArrayList()",</span></p>
<p class="p13"><span class="s1">                     "map_script":"double value = doc.changeOverTime.value==0 ? 0 : doc.changePercent.value/(doc.changeOverTime.value*100); state.price_diff.add(value)",</span></p>
<p class="p13"><span class="s1">                     "combine_script":"return Collections.max(state.price_diff)",</span></p>
<p class="p13"><span class="s1">                     "reduce_script":"return Collections.max(states)"</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_scripted_metric</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"highest_cp_cot_ratio\": { \"scripted_metric\": { \"init_script\":\"state.price_diff = new ArrayList()\", \"map_script\":\"double value = doc.changeOverTime.value==0 ? 0 : doc.changePercent.value/(doc.changeOverTime.value*100); state.price_diff.add(value)\", \"combine_script\":\"return Collections.max(state.price_diff)\", \"reduce_script\":\"return Collections.max(states)\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_histogram </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">    "aggs": {</span></p>
<p class="p13"><span class="s1">              "acwf_histogram": {</span></p>
<p class="p13"><span class="s1">                      "histogram": {</span></p>
<p class="p13"><span class="s1">                             "field": "open",</span></p>
<p class="p13"><span class="s1">                             "interval": 1,</span></p>
<p class="p13"><span class="s1">                             "extended_bounds": { "min":24, "max":30}</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">    }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_histogram</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\": { \"acwf_histogram\": { \"histogram\": { \"field\": \"open\", \"interval\": 1, \"extended_bounds\": { \"min\":24, \"max\":30} } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_date_histogram </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_trading_days": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_date_histogram</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\":{ \"monthly_trading_days\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_auto_interval_date_histogram </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_trading_days": {</span></p>
<p class="p13"><span class="s1">                      "auto_date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "buckets": "4",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_auto_interval_date_histogram</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\":{ \"monthly_trading_days\": { \"auto_date_histogram\":{ \"field\": \"date\", \"buckets\": \"4\", \"format\": \"yyyy-MM-dd\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_ranges </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_trading_days": {</span></p>
<p class="p13"><span class="s1">                      "range":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd",</span></p>
<p class="p13"><span class="s1">                             "ranges": [{"from":"2018-12-01"},{"to":"2019-04-01"},{"from":"2019-01-01","to":"2019-02-01"}]</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_ranges</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\":{ \"monthly_trading_days\": { \"range\":{ \"field\": \"date\", \"format\": \"yyyy-MM-dd\", \"ranges\": [{\"from\":\"2018-12-01\"},{\"to\":\"2019-04-01\"},{\"from\":\"2019-01-01\",\"to\":\"2019-02-01\"}] } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_date_ranges </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "match": { "symbol": "ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_trading_days": {</span></p>
<p class="p13"><span class="s1">                      "date_range":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd",</span></p>
<p class="p13"><span class="s1">                             "ranges": [{"from":"2018-12-01"},{"to":"2019-04-01"},{"from":"2019-01-01","to":"2019-01-01||+1M"}]</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_date_ranges</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"match\": { \"symbol\": \"ACWF\"}}, \"aggs\":{ \"monthly_trading_days\": { \"date_range\":{ \"field\": \"date\", \"format\": \"yyyy-MM-dd\", \"ranges\": [{\"from\":\"2018-12-01\"},{\"to\":\"2019-04-01\"},{\"from\":\"2019-01-01\",\"to\":\"2019-01-01||+1M\"}] } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_filter_sub_aggs </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "avg_changePercent_at_date": {</span></p>
<p class="p13"><span class="s1">                      "filter":{"term": {"date":"2019-02-15"}},</span></p>
<p class="p13"><span class="s1">                      "aggs": {"avg_changePercent": {"avg":{"field": "changePercent"}}}</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_filter_sub_aggs</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"aggs\":{ \"avg_changePercent_at_date\": { \"filter\":{\"term\": {\"date\":\"2019-02-15\"}}, \"aggs\": {\"avg_changePercent\": {\"avg\":{\"field\": \"changePercent\"}}} } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_filters </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query": { "term": {"date":"2019-02-15"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "filters_avg_changePercent": {</span></p>
<p class="p13"><span class="s1">                      "filters":{</span></p>
<p class="p13"><span class="s1">                             "filters": {</span></p>
<p class="p13"><span class="s1">                                    "less_than_avg": {"range": {"changePercent":{"lt":0.60385}}},</span></p>
<p class="p13"><span class="s1">                                    "greater_than_avg":{"range": {"changePercent":{"gte":0.60385}}}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_filters</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\": { \"term\": {\"date\":\"2019-02-15\"}}, \"aggs\":{ \"filters_avg_changePercent\": { \"filters\":{ \"filters\": { \"less_than_avg\": {\"range\": {\"changePercent\":{\"lt\":0.60385}}}, \"greater_than_avg\":{\"range\": {\"changePercent\":{\"gte\":0.60385}}} } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_terms_rating </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "terms_on_rating": {</span></p>
<p class="p13"><span class="s1">                      "terms":{</span></p>
<p class="p13"><span class="s1">                             "field":"rating"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_terms_rating</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"aggs\":{ \"terms_on_rating\": { \"terms\":{ \"field\":\"rating\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_significant_terms </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match":{"rating":5}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "rating_vs_morningstar":{</span></p>
<p class="p13"><span class="s1">                      "significant_terms":{</span></p>
<p class="p13"><span class="s1">                             "field":"morningstar_category"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_significant_terms</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\":{\"rating\":5}}, \"aggs\":{ \"rating_vs_morningstar\":{ \"significant_terms\":{ \"field\":\"morningstar_category\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_significant_text </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match":{"rating":5}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "rating_vs_fund_name":{</span></p>
<p class="p13"><span class="s1">                      "significant_text":{</span></p>
<p class="p13"><span class="s1">                             "field":"fund_name",</span></p>
<p class="p13"><span class="s1">                             "exclude": ["us", "p", "s", "cap"],</span></p>
<p class="p13"><span class="s1">                             "size":5</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_significant_text</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\":{\"rating\":5}}, \"aggs\":{ \"rating_vs_fund_name\":{ \"significant_text\":{ \"field\":\"fund_name\", \"exclude\": [\"us\", \"p\", \"s\", \"cap\"], \"size\":5 } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_sampler </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs": { </span></p>
<p class="p13"><span class="s1">              "sampling": {</span></p>
<p class="p13"><span class="s1">                      "sampler": { "shard_size":150},</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "significant_terms_category": {</span></p>
<p class="p13"><span class="s1">                                    "significant_terms": {</span></p>
<p class="p13"><span class="s1">                              "field": "category"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_sampler</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{\"size\": 0, \"aggs\": { \"sampling\": { \"sampler\": { \"shard_size\":150}, \"aggs\": { \"significant_terms_category\": { \"significant_terms\": { \"field\": \"category\" } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_diversified_sampler_10 </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs": { </span></p>
<p class="p13"><span class="s1">              "sampling": {</span></p>
<p class="p13"><span class="s1">                      "diversified_sampler": {"field":"family", "shard_size":150, "max_docs_per_value" : 10},</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "significant_terms_category": {</span></p>
<p class="p13"><span class="s1">                                    "significant_terms": {</span></p>
<p class="p13"><span class="s1">                              "field": "category"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_diversified_sampler_10</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{\"size\": 0, \"aggs\": { \"sampling\": { \"diversified_sampler\": {\"field\":\"family\", \"shard_size\":150, \"max_docs_per_value\" : 10}, \"aggs\": { \"significant_terms_category\": { \"significant_terms\": { \"field\": \"category\" } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_diverified_sampler_61 </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs": { </span></p>
<p class="p13"><span class="s1">              "sampling": {</span></p>
<p class="p13"><span class="s1">                      "diversified_sampler": {"field":"family", "shard_size":150, "max_docs_per_value" : 61},</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "significant_terms_category": {</span></p>
<p class="p13"><span class="s1">                                    "significant_terms": {</span></p>
<p class="p13"><span class="s1">                              "field": "category"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_diverified_sampler_61</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{\"size\": 0, \"aggs\": { \"sampling\": { \"diversified_sampler\": {\"field\":\"family\", \"shard_size\":150, \"max_docs_per_value\" : 61}, \"aggs\": { \"significant_terms_category\": { \"significant_terms\": { \"field\": \"category\" } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_nested_amount </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_dividend_nested/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "per_symbol":{</span></p>
<p class="p13"><span class="s1">                      "terms": {"field":"symbol", "size":3},</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "total_dividend": {<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">                                    "nested": {</span></p>
<p class="p13"><span class="s1">                                           "path":"announcement"</span></p>
<p class="p13"><span class="s1">                                    },</span></p>
<p class="p13"><span class="s1">                                    "aggs": {</span></p>
<p class="p13"><span class="s1">                                           "total_amount": {"sum": {"field": "announcement.amount"}}</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_nested_amount</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_dividend_nested/_search" --header "Content-Type: application/json" --data $'{\"size\":0,\"aggs\":{\"per_symbol\":{\"terms\":{\"field\":\"symbol\",\"size\":3},\"aggs\":{\"total_dividend\":{\"nested\":{\"path\":\"announcement\"},\"aggs\":{\"total_amount\":{\"sum\":{\"field\":\"announcement.amount\"}}}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_reverse_nested </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_dividend_nested/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "etf_category_distribution_on_dividend_type":{</span></p>
<p class="p13"><span class="s1">                      "nested": {</span></p>
<p class="p13"><span class="s1">                             "path":"announcement"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "by_dividend_type": {     <span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">                                    "terms": {"field":"announcement.type"},</span></p>
<p class="p13"><span class="s1">                                    "aggs": {</span></p>
<p class="p13"><span class="s1">                                           "total_by_etf_category":{</span></p>
<p class="p13"><span class="s1">                                                  "reverse_nested":{},</span></p>
<p class="p13"><span class="s1">                                                  "aggs": { </span></p>
<p class="p13"><span class="s1">                                                          "category":{"terms": {"field": "category"}}</span></p>
<p class="p13"><span class="s1">                                                  }</span></p>
<p class="p13"><span class="s1">                                           }</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_reverse_nested</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_dividend_nested/_search" --header "Content-Type: application/json" --data $'{ \"size\":0, \"aggs\": { \"etf_category_distribution_on_dividend_type\":{ \"nested\": { \"path\":\"announcement\" }, \"aggs\":{ \"by_dividend_type\": {\"terms\": {\"field\":\"announcement.type\"}, \"aggs\": { \"total_by_etf_category\":{ \"reverse_nested\":{}, \"aggs\": { \"category\":{\"terms\": {\"field\": \"category\"}} } } } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_global </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "query":{"prefix": {"family":"iShares"}},</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "ishares_avg_rating": {"avg": {"field":"rating"}},</span></p>
<p class="p13"><span class="s1">              "overall_avg_rating": {"global":{}, "aggs":{"global_avg_rating":{"avg":{"field":"rating"}}}}</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1"> </span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_global</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{ \"size\":0, \"query\":{\"prefix\": {\"family\":\"iShares\"}}, \"aggs\": { \"ishares_avg_rating\": {\"avg\": {\"field\":\"rating\"}}, \"overall_avg_rating\": {\"global\":{}, \"aggs\":{\"global_avg_rating\":{\"avg\":{\"field\":\"rating\"}}}} } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_missing_category </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "not_rated_count": {</span></p>
<p class="p13"><span class="s1">                      "missing": {"field":"rating"}</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_missing_category</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{\"size\":0,\"aggs\":{\"not_rated_count\":{\"missing\":{\"field\":\"rating\"}}}}'<span class="Apple-converted-space"> </span></span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_composite </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "query": {"query_string": {"query": "rating:[4 TO 5]"}},</span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs": { </span></p>
<p class="p13"><span class="s1">              "multi_sources": {</span></p>
<p class="p13"><span class="s1">                      "composite": {</span></p>
<p class="p13"><span class="s1">                             "sources": [</span></p>
<p class="p13"><span class="s1">                                    {"family": {"terms": {"field":"family"}}},</span></p>
<p class="p13"><span class="s1">                                    {"rating": {"terms":{"field":"rating"}}}</span></p>
<p class="p13"><span class="s1">                             ],</span></p>
<p class="p13"><span class="s1">                             "size":5</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_composite</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{ \"query\": {\"query_string\": {\"query\": \"rating:[4 TO 5]\"}}, \"size\": 0, \"aggs\": { \"multi_sources\": { \"composite\": { \"sources\": [ {\"family\": {\"terms\": {\"field\":\"family\"}}}, {\"rating\": {\"terms\":{\"field\":\"rating\"}}} ], \"size\":5 } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_adjacent_matrix </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "aggs": { </span></p>
<p class="p13"><span class="s1">              "adjacency_filters": {</span></p>
<p class="p13"><span class="s1">                      "adjacency_matrix": {</span></p>
<p class="p13"><span class="s1">                             "filters": {</span></p>
<p class="p13"><span class="s1">                                    "rating_gte_5": {"range":{"rating":{"gte":5}}},</span></p>
<p class="p13"><span class="s1">                                    "family_prefix_A": {"prefix":{"family":"iShares"}}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_adjacent_matrix</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --data $'{\"size\": 0, \"aggs\": { \"adjacency_filters\": { \"adjacency_matrix\": { \"filters\": { \"rating_gte_5\": {\"range\":{\"rating\":{\"gte\":5}}}, \"family_prefix_A\": {\"prefix\":{\"family\":\"iShares\"}} } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_join_parent_aggs </span></p>
<p class="p5"><span class="s1">localhost:9200/cf_etf_dividend_join/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "cf_etf":{   <span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">                      "parent": {</span></p>
<p class="p13"><span class="s1">                             "type": "dividend" </span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "count":{"value_count":{"field":"symbol"}}</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_join_parent_aggs</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "localhost:9200/cf_etf_dividend_join/_search" --header "Content-Type: application/json" --data $'{\"size\":0,\"aggs\":{\"cf_etf\":{\"parent\":{\"type\":\"dividend\"},\"aggs\":{\"count\":{\"value_count\":{\"field\":\"symbol\"}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_join_children_aggs </span></p>
<p class="p5"><span class="s1">localhost:9200/cf_etf_dividend_join/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space"> </span>"aggs": {</span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space">    </span>"dividends_for_symbol": {</span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space">      </span>"terms": {"field": "symbol"},</span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space">      </span>"aggs": {"dividend":{ "children": {"type": "dividend" },</span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space">          </span>"aggs": {"total_dividend":{"sum":{"field":"amount"}}}}}}</span></p>
<p class="p13"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_join_children_aggs</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "localhost:9200/cf_etf_dividend_join/_search" --header "Content-Type: application/json" --data $'{\"size\":0,\"aggs\":{\"dividend_for_symbol\":{\"terms\":{"field\":\"symbol\"},\"aggs\":{\"dividend\":{\"children\":{\"type\":\"dividend\"},\"aggs\":{\"total_dividend\":{\"sum\":{\"field\":\"amount\"}}}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p16"><span class="s1"><br>
</span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_avg_monthly_close </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_avg_close": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "avg_close_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "avg":{"field":"close"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "overall_avg_close":{</span></p>
<p class="p13"><span class="s1">                      "avg_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_avg_close&gt;avg_close_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_avg_monthly_close</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_avg_close\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"avg_close_on_month\":{ \"avg\":{\"field\":\"close\"} } } }, \"overall_avg_close\":{ \"avg_bucket\": { \"buckets_path\": \"monthly_avg_close&gt;avg_close_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_max_monthly_avg_close </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_avg_close": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "avg_close_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "avg":{"field":"close"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "overall_max_avg_close":{</span></p>
<p class="p13"><span class="s1">                      "max_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_avg_close&gt;avg_close_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_max_monthly_avg_close</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_avg_close\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"avg_close_on_month\":{ \"avg\":{\"field\":\"close\"} } } }, \"overall_max_avg_close\":{ \"max_bucket\": { \"buckets_path\": \"monthly_avg_close&gt;avg_close_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_min_monthly_avg_close </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_avg_close": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "avg_close_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "avg":{"field":"close"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "overall_min_avg_close":{</span></p>
<p class="p13"><span class="s1">                      "min_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_avg_close&gt;avg_close_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_min_monthly_avg_close</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_avg_close\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"avg_close_on_month\":{ \"avg\":{\"field\":\"close\"} } } }, \"overall_min_avg_close\":{ \"min_bucket\": { \"buckets_path\": \"monthly_avg_close&gt;avg_close_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_sum_monthly_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "overall_monthly_change":{</span></p>
<p class="p13"><span class="s1">                      "sum_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_change&gt;change_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_sum_monthly_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"change_on_month\":{ \"sum\":{\"field\":\"change\"} } } }, \"overall_monthly_change\":{ \"sum_bucket\": { \"buckets_path\": \"monthly_change&gt;change_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_statistics_monthly_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "stats_monthly_change":{</span></p>
<p class="p13"><span class="s1">                      "stats_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_change&gt;change_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_statistics_monthly_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"change_on_month\":{ \"sum\":{\"field\":\"change\"} } } }, \"overall_monthly_change\":{ \"sum_bucket\": { \"buckets_path\": \"monthly_change&gt;change_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_extended_statistics_monthly_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "extended_stats_monthly_change":{</span></p>
<p class="p13"><span class="s1">                      "extended_stats_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "monthly_change&gt;change_on_month"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_extended_statistics_monthly_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"change_on_month\":{ \"sum\":{\"field\":\"change\"} } } }, \"extended_stats_monthly_change\":{ \"extended_stats_bucket\": { \"buckets_path\": \"monthly_change&gt;change_on_month\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_percentiles_weekly_change </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "weekly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_week":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              },</span></p>
<p class="p13"><span class="s1">              "percentile_weekly_change":{</span></p>
<p class="p13"><span class="s1">                      "percentiles_bucket": {</span></p>
<p class="p13"><span class="s1">                             "buckets_path": "weekly_change&gt;change_on_week"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_percentiles_weekly_change</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"weekly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"change_on_week\":{ \"sum\":{\"field\":\"change\"} } } }, \"percentile_weekly_change\":{ \"percentiles_bucket\": { \"buckets_path\": \"weekly_change&gt;change_on_week\" } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_cumulative_sum </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "cumulative_change":{</span></p>
<p class="p13"><span class="s1">                                    "cumulative_sum": {</span></p>
<p class="p13"><span class="s1">                                           "buckets_path": "change_on_month"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_cumulative_sum</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"month\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"change_on_month\":{\"sum\":{\"field\":\"change\"}},\"cumulative_change\":{\"cumulative_sum\":{\"buckets_path\":\"change_on_month\"}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_derivative </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "first_order_derivative":{</span></p>
<p class="p13"><span class="s1">                                    "derivative": {</span></p>
<p class="p13"><span class="s1">                                           "buckets_path": "change_on_month"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "second_order_derivative": {</span></p>
<p class="p13"><span class="s1">                                    "derivative": {</span></p>
<p class="p13"><span class="s1">                                           "buckets_path": "first_order_derivative"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_derivative</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"month\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"change_on_month\":{ \"sum\":{\"field\":\"change\"} }, \"first_order_derivative\":{ \"derivative\": { \"buckets_path\": \"change_on_month\" } }, \"second_order_derivative\": { \"derivative\": { \"buckets_path\": \"first_order_derivative\" } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_bucket_script </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{ "sum":{"field":"change"}},</span></p>
<p class="p13"><span class="s1">                             "min_change_on_month":{"min":{"field":"change"}},</span></p>
<p class="p13"><span class="s1">                             "max_change_on_month":{"max":{"field":"change"}},</span></p>
<p class="p13"><span class="s1">                             "range_of_change":{</span></p>
<p class="p13"><span class="s1">                                    "bucket_script":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":{</span></p>
<p class="p13"><span class="s1">                                                  "min_value":"min_change_on_month",</span></p>
<p class="p13"><span class="s1">                                                  "max_value":"max_change_on_month"</span></p>
<p class="p13"><span class="s1">                                           },</span></p>
<p class="p13"><span class="s1">                                           "script":"params.max_value - params.min_value"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_bucket_script</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"month\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"change_on_month\":{\"sum\":{\"field\":\"change\"}},\"min_change_on_month\":{\"min\":{\"field\":\"change\"}},\"max_change_on_month\":{\"max\":{\"field\":\"change\"}},\"range_of_change\":{\"bucket_script\":{\"buckets_path\":{\"min_value\":\"min_change_on_month\",\"max_value\":\"max_change_on_month\"},\"script\":\"params.max_value - params.min_value\"}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_bucket_selector </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "negative_monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "month",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "change_on_month":{ "sum":{"field":"change"}},</span></p>
<p class="p13"><span class="s1">                             "filter_positive_change_on_month":{</span></p>
<p class="p13"><span class="s1">                                    "bucket_selector":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":{</span></p>
<p class="p13"><span class="s1">                                                  "monthly_change_value":"change_on_month"</span></p>
<p class="p13"><span class="s1">                                           },</span></p>
<p class="p13"><span class="s1">                                           "script":"params.monthly_change_value&lt;0"</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_bucket_selector</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"negative_monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"month\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"change_on_month\":{\"sum\":{\"field\":\"change\"}},\"filter_positive_change_on_month\":{\"bucket_selector\":{\"buckets_path\":{\"monthly_change_value\":\"change_on_month\"},\"script\":\"params.monthly_change_value&lt;0\"}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_dividend_nested_amount bucket_sort </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_dividend_nested/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{</span></p>
<p class="p13"><span class="s1">       "size":0,</span></p>
<p class="p13"><span class="s1">       "aggs": {</span></p>
<p class="p13"><span class="s1">              "per_symbol":{</span></p>
<p class="p13"><span class="s1">                      "terms": {"field":"symbol"},</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "total_dividend": {<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">                                    "nested": {</span></p>
<p class="p13"><span class="s1">                                           "path":"announcement"</span></p>
<p class="p13"><span class="s1">                                    },</span></p>
<p class="p13"><span class="s1">                                    "aggs": {</span></p>
<p class="p13"><span class="s1">                                           "total_amount": {"sum": {"field": "announcement.amount"}}</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "sort": {</span></p>
<p class="p13"><span class="s1">                                    "bucket_sort": {</span></p>
<p class="p13"><span class="s1">                                           "sort": [{"total_dividend.total_amount":{"order":"desc"}}],</span></p>
<p class="p13"><span class="s1">                                           "from":0,</span></p>
<p class="p13"><span class="s1">                                           "size":3</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p13"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_dividend_nested_amount bucket_sort</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_dividend_nested/_search" --header "Content-Type: application/json" --data $'{ \"size\":0, \"aggs\": { \"per_symbol\":{ \"terms\": {\"field\":\"symbol\"}, \"aggs\":{ \"total_dividend\": { \"nested\": { \"path\":\"announcement\" }, \"aggs\": { \"total_amount\": {\"sum\": {\"field\": \"announcement.amount\"}} } }, \"sort\": { \"bucket_sort\": { \"sort\": [{\"total_dividend.total_amount\":{\"order\":\"desc\"}}], \"from\":0, \"size\":3 } } } } } } '</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_serial_diff </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "serial_diff_weekly_avg_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs":{</span></p>
<p class="p13"><span class="s1">                             "weekly_avg_change":{</span></p>
<p class="p13"><span class="s1">                                    "avg":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_avg_serial_diff": {</span></p>
<p class="p13"><span class="s1">                                    "serial_diff": {</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_avg_change",</span></p>
<p class="p13"><span class="s1">                                           "lag":1</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p13"><span class="s1"> </span></p>
<p class="p13"><span class="s1"> </span></p>
<p class="p13"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_serial_diff</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"serial_diff_weekly_avg_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\":{ \"weekly_avg_change\":{ \"avg\":{\"field\":\"change\"} }, \"weekly_avg_serial_diff\": { \"serial_diff\": { \"buckets_path\":\"weekly_avg_change\", \"lag\":1 } } } } } } '</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_avg_simple </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_moving_avg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_avg":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "model":"simple",</span></p>
<p class="p13"><span class="s1">                                           "window":4,</span></p>
<p class="p13"><span class="s1">                                           "predict":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_avg_simple</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"weekly_moving_avg\": { \"moving_avg\":{ \"buckets_path\":\"weekly_change\", \"model\":\"simple\", \"window\":4, \"predict\":4 } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_avg_linear </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_moving_avg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_avg":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "model":"linear",</span></p>
<p class="p13"><span class="s1">                                           "window":4,</span></p>
<p class="p13"><span class="s1">                                           "predict":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_avg_linear</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"weekly_moving_avg\": { \"moving_avg\":{ \"buckets_path\":\"weekly_change\", \"model\":\"linear\", \"window\":4, \"predict\":4 } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_avg_ewma </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_moving_avg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_avg":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "model":"ewma",</span></p>
<p class="p13"><span class="s1">                                           "settings":{"alpha":0.3},</span></p>
<p class="p13"><span class="s1">                                           "window":4,</span></p>
<p class="p13"><span class="s1">                                           "predict":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_avg_ewma</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_moving_avg\":{\"moving_avg\":{\"buckets_path\":\"weekly_change\",\"model\":\"ewma\",\"settings\":{\"alpha\":0.3},\"window\":4,\"predict\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_avg_holt_linear </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_moving_avg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_avg":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "model":"holt",</span></p>
<p class="p13"><span class="s1">                                           "settings":{"alpha":0.3, "beta":0.3},</span></p>
<p class="p13"><span class="s1">                                           "window":4,</span></p>
<p class="p13"><span class="s1">                                           "predict":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_avg_holt_linear</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{ \"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"weekly_moving_avg\": { \"moving_avg\":{ \"buckets_path\":\"weekly_change\", \"model\":\"holt\", \"settings\":{\"alpha\":0.3, \"beta\":0.3}, \"window\":4, \"predict\":4 } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_avg_holt_winters </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_moving_avg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_avg":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "model":"holt_winters",</span></p>
<p class="p13"><span class="s1">                                           "settings":{"type" : "mult","alpha":0.8, "beta":0.3, "gamma":0.3, "period":1},</span></p>
<p class="p13"><span class="s1">                                           "window":4,</span></p>
<p class="p13"><span class="s1">                                           "predict":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_avg_holt_winters</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{ \"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"weekly_moving_avg\": { \"moving_avg\":{ \"buckets_path\":\"weekly_change\", \"model\":\"holt_winters\", \"settings\":{\"type\" : \"mult\",\"alpha\":0.8, \"beta\":0.3, \"gamma\":0.3, \"period\":1}, \"window\":4, \"predict\":4 } } } } } }'<span class="Apple-converted-space"> </span></span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_max </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "max_weekly_change": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.max(values)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_max</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"max_weekly_change\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.max(values)\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_min </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "min_weekly_change": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.min(values)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_min</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{ \"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"min_weekly_change\": { \"moving_fn\":{ \"buckets_path\":\"weekly_change\", \"script\":\"MovingFunctions.min(values)\", \"window\":4 } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_sum </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "total_weekly_change": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.sum(values)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_sum</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0, \"query\":{\"match\": {\"symbol\":\"ACWF\"}}, \"aggs\":{ \"monthly_change\": { \"date_histogram\":{ \"field\": \"date\", \"interval\": \"week\", \"format\": \"yyyy-MM-dd\" }, \"aggs\": { \"weekly_change\":{ \"sum\":{\"field\":\"change\"} }, \"total_weekly_change\": { \"moving_fn\":{ \"buckets_path\":\"weekly_change\", \"script\":\"MovingFunctions.sum(values)\", \"window\":4 } } } } } }'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_unweightedAvg </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "weekly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_unweightedAvg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.unweightedAvg(values)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_unweightedAvg</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"weekly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_unweightedAvg\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.unweightedAvg(values)\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_linearweightedAvg </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_unweightedAvg": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.linearWeightedAvg(values)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_linearweightedAvg</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"weekly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_unweightedAvg\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.unweightedAvg(values)\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_stdDev </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_stdDev": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.stdDev(values, MovingFunctions.unweightedAvg(values))",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_stdDev</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_stdDev\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.stdDev(values,MovingFunctions.unweightedAvg(values))\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_ewma </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_ewma": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.ewma(values, 0.3)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_ewma</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_ewma\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.ewma(values,0.3)\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_holt </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_holt": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":"MovingFunctions.holt(values, 0.3, 0.3)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_holt</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\":0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_holt\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.holt(values,0.3,0.3)\",\"window\":4}}}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_acwf_moving_fn_holtwinters </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf_hist_price/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "size": 0,</span></p>
<p class="p13"><span class="s1">       "query":{"match": {"symbol":"ACWF"}},</span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "monthly_change": {</span></p>
<p class="p13"><span class="s1">                      "date_histogram":{</span></p>
<p class="p13"><span class="s1">                             "field": "date",</span></p>
<p class="p13"><span class="s1">                             "interval": "week",</span></p>
<p class="p13"><span class="s1">                             "format": "yyyy-MM-dd"</span></p>
<p class="p13"><span class="s1">                      },</span></p>
<p class="p13"><span class="s1">                      "aggs": {</span></p>
<p class="p13"><span class="s1">                             "weekly_change":{</span></p>
<p class="p13"><span class="s1">                                    "sum":{"field":"change"}</span></p>
<p class="p13"><span class="s1">                             },</span></p>
<p class="p13"><span class="s1">                             "weekly_change_holtWinters": {</span></p>
<p class="p13"><span class="s1">                                    "moving_fn":{</span></p>
<p class="p13"><span class="s1">                                           "buckets_path":"weekly_change",</span></p>
<p class="p13"><span class="s1">                                           "script":" MovingFunctions.holtWinters(values, 0.8, 0.3, 0.1, 1, false)",</span></p>
<p class="p13"><span class="s1">                                           "window":4</span></p>
<p class="p13"><span class="s1">                                    }</span></p>
<p class="p13"><span class="s1">                             }</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_acwf_moving_fn_holtwinters</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf_hist_price/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"size\": 0,\"query\":{\"match\":{\"symbol\":\"ACWF\"}},\"aggs\":{\"monthly_change\":{\"date_histogram\":{\"field\":\"date\",\"interval\":\"week\",\"format\":\"yyyy-MM-dd\"},\"aggs\":{\"weekly_change\":{\"sum\":{\"field\":\"change\"}},\"weekly_change_holtWinters\":{\"moving_fn\":{\"buckets_path\":\"weekly_change\",\"script\":\"MovingFunctions.holtWinters(values,0.8,0.3,0.1,1,false)\",\"window\":4}}}}}}' </span></p>
<p class="p10"><span class="s1"> </span></p>
<p class="p4"><span class="s4">POST</span><span class="s1"> cf_etf_hist_price_terms_rating post_filter </span></p>
<p class="p5"><span class="s1">http://localhost:9200/cf_etf/_search</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p11"><span class="s1">HEADERS</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p11"><span class="s1">Content-Type</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">accept</span></p>
<p class="p11"><span class="s1">application/json</span></p>
<p class="p11"><span class="s1">BODY</span></p>
<p class="p12"><span class="s1"> </span></p>
<p class="p13"><span class="s1">{   </span></p>
<p class="p13"><span class="s1">       "aggs":{</span></p>
<p class="p13"><span class="s1">              "terms_on_rating": {</span></p>
<p class="p13"><span class="s1">                      "terms":{</span></p>
<p class="p13"><span class="s1">                             "field":"rating"</span></p>
<p class="p13"><span class="s1">                      }</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       },</span></p>
<p class="p13"><span class="s1">       "post_filter":{</span></p>
<p class="p13"><span class="s1">              "range": {</span></p>
<p class="p13"><span class="s1">                      "rating": {"gte":5}</span></p>
<p class="p13"><span class="s1">              }</span></p>
<p class="p13"><span class="s1">       }</span></p>
<p class="p13"><span class="s1">}</span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p3"><span class="s1"> </span></p>
<p class="p6"><span class="s1">Example Request</span></p>
<p class="p7"><span class="s1">cf_etf_hist_price_terms_rating post_filter</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p14"><span class="s1">curl --location --request POST "http://localhost:9200/cf_etf/_search" --header "Content-Type: application/json" --header "accept: application/json" --data $'{\"aggs\":{\"terms_on_rating\":{\"terms\":{\"field\":\"rating\"}}}, \"post_filter\":{\"range\":{\"rating\":{\"gte\":5}}}}'</span></p>
<p class="p14"><span class="s1"> </span></p>
<p class="p17"><span class="s1"> </span></p>
<p class="p18"><span class="s1">CHAPTER8</span></p>
</body>
</html>
